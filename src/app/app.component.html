<!-- Toolbar -->
<div class="toolbar" role="banner">
  <a (click)="playAgain()" href="#">
    <img src="../assets/items/ball5_friend.png" alt="icon" style="height: 80%; margin-right: 10px;">
    <span>Poké Buds</span>
  </a>
</div>

<div class="content" role="main" *ngIf="!endGame">

  <!-- Highlight Card -->
  <!-- <div class="card highlight-card card-small">

    <svg id="rocket" xmlns="http://www.w3.org/2000/svg" width="101.678" height="101.678" viewBox="0 0 101.678 101.678">
      <title>Rocket Ship</title>
      <g id="Group_83" data-name="Group 83" transform="translate(-141 -696)">
        <circle id="Ellipse_8" data-name="Ellipse 8" cx="50.839" cy="50.839" r="50.839" transform="translate(141 696)" fill="#dd0031"/>
        <g id="Group_47" data-name="Group 47" transform="translate(165.185 720.185)">
          <path id="Path_33" data-name="Path 33" d="M3.4,42.615a3.084,3.084,0,0,0,3.553,3.553,21.419,21.419,0,0,0,12.215-6.107L9.511,30.4A21.419,21.419,0,0,0,3.4,42.615Z" transform="translate(0.371 3.363)" fill="#fff"/>
          <path id="Path_34" data-name="Path 34" d="M53.3,3.221A3.09,3.09,0,0,0,50.081,0,48.227,48.227,0,0,0,18.322,13.437c-6-1.666-14.991-1.221-18.322,7.218A33.892,33.892,0,0,1,9.439,25.1l-.333.666a3.013,3.013,0,0,0,.555,3.553L23.985,43.641a2.9,2.9,0,0,0,3.553.555l.666-.333A33.892,33.892,0,0,1,32.647,53.3c8.55-3.664,8.884-12.326,7.218-18.322A48.227,48.227,0,0,0,53.3,3.221ZM34.424,9.772a6.439,6.439,0,1,1,9.106,9.106,6.368,6.368,0,0,1-9.106,0A6.467,6.467,0,0,1,34.424,9.772Z" transform="translate(0 0.005)" fill="#fff"/>
        </g>
      </g>
    </svg>

    <span>{{ title }} app is running!</span>

    <svg id="rocket-smoke" xmlns="http://www.w3.org/2000/svg" width="516.119" height="1083.632" viewBox="0 0 516.119 1083.632">
      <title>Rocket Ship Smoke</title>
      <path id="Path_40" data-name="Path 40" d="M644.6,141S143.02,215.537,147.049,870.207s342.774,201.755,342.774,201.755S404.659,847.213,388.815,762.2c-27.116-145.51-11.551-384.124,271.9-609.1C671.15,139.365,644.6,141,644.6,141Z" transform="translate(-147.025 -140.939)" fill="#f5f5f5"/>
    </svg>

  </div> -->

  <div class="encounter-section">
    <!-- Resources -->
    <h2 class="text-center">Encounter</h2>
    <p class="text-center">Here is what you found</p>

    <div class="card-container">
      <button class="pokemon-card">
        <app-pokemon [currentPokemonNumber]="randomPokemonNumber" (currentPokemonName)="pokemonList($event)">
        </app-pokemon>
      </button>
    </div>

    <!-- Next Steps -->
    <h2 class="text-center">Actions</h2>
    <p class="text-center">What are you going to do?</p>

    <input type="hidden" #selection>

    <div class="" style="display: flex; flex-direction: column; align-items: center">
      <div class="card-container">
        <button class="card card-small" (click)="selection.value = 'pokeball'; throwBall(1)" tabindex="0"
          [disabled]="pbCounter == 0" [ngClass]="{'disabled-item': pbCounter == 0}">
          <img src="../assets/items/ball1_poke.png" alt="icon" style="height: 120%; margin-right: 20px;">
          <span>{{ items[0].itemName }} ({{ pbCounter }}x)</span>
        </button>

        <button class="card card-small" (click)="selection.value = 'greatball'; throwBall(2)" tabindex="0"
          [disabled]="gbCounter == 0" [ngClass]="{'disabled-item': gbCounter == 0}">
          <img src="../assets/items/ball2_great.png" alt="icon" style="height: 120%; margin-right: 20px;">
          <span>{{ items[1].itemName }} ({{ gbCounter }}x)</span>
        </button>
      </div>

      <div class="card-container">
        <button class="card card-small" (click)="selection.value = 'ultraball'; throwBall(3)" tabindex="0"
          [disabled]="ubCounter == 0" [ngClass]="{'disabled-item': ubCounter == 0}">
          <img src="../assets/items/ball3_ultra.png" alt="icon" style="height: 120%; margin-right: 20px;">
          <span>{{ items[2].itemName }} ({{ ubCounter }}x)</span>
        </button>

        <button class="card card-small" (click)="selection.value = 'masterball'; throwBall(4)" tabindex="0"
          [disabled]="mbCounter == 0" [ngClass]="{'disabled-item': mbCounter == 0}">
          <img src="../assets/items/ball4_master.png" alt="icon" style="height: 120%; margin-right: 20px;">
          <span>{{ items[3].itemName }} ({{ mbCounter }}x)</span>
        </button>
      </div>

      <div class="card-container">
        <button class="card card-small run-card" (click)="selection.value = 'run'; useRun()" tabindex="0"
          [disabled]="runCounter == 0" [ngClass]="{'disabled-item': runCounter == 0}">
          <img src="../assets/items/run.png" alt="icon" style="height: 180%; margin-right: 10px;">
          <span>{{ items[4].itemName }} ({{ runCounter }}x)</span>
        </button>
      </div>
    </div>
  </div>

  <div class="user-section">
    <!-- User Card -->
    <div class="user-info">
      <h2 class="text-center">Your Information</h2>
      <div class="user-card">
        <pre>
          <p>User: X</p>
          <p>Points: Y</p>
        </pre>
      </div>
    </div>

    <!-- Log -->
    <h2 class="text-center">Your Actions</h2>
    <div class="terminal" [ngSwitch]="selection.value">
      <p *ngSwitchDefault>(Your action)</p>
      <p *ngSwitchCase="'pokeball'">
        You used {{ items[0].itemName }}.<br>The Pokémon {{ catchResult ? "was caught!" : "broke free!" }}
      </p>
      <p *ngSwitchCase="'greatball'">
        You used {{ items[1].itemName }}.<br>The Pokémon {{ catchResult ? "was caught!" : "broke free!" }}
      </p>
      <p *ngSwitchCase="'ultraball'">
        You used {{ items[2].itemName }}.<br>The Pokémon {{ catchResult ? "was caught!" : "broke free!" }}
      </p>
      <p *ngSwitchCase="'masterball'">
        You used {{ items[3].itemName }}.<br>The Pokémon {{ catchResult ? "was caught!" : "broke free!" }}
      </p>
      <p *ngSwitchCase="'run'">You chose to {{ items[4].itemName }}</p>
    </div>

    <!-- Footer -->
    <footer>
      Poké Buds - Yuri Barcellos Galli ©
    </footer>
  </div>

  <!-- <img src="../assets/bg2.jpeg" alt="Background" id="background"> -->

</div>

<div class="content" role="main" *ngIf="endGame">
  <div class="encounter-section">
    <h2 class="text-center">Encounters</h2>
    <p class="text-center">Here is what you accomplished</p>

    <div class="result-pics-container">
      <div class="result-pic" *ngFor="let result of results; let i = index">
        <img class="pic-img" src="../assets/pokemons/{{result.pokemon.pic}}" alt="{{ result.name }}">
        <img class="item-img" src="{{ items[result.itemUsed - 1].fileLocation }}" alt="{{items[result.itemUsed]}}">
      </div>
    </div>
  </div>

  <div class="user-section">
    <!-- User Card -->
    <h2 class="text-center">Your Game Results</h2>
    <p class="text-center">Here is what you accomplished</p>

    <div class="results-card">
      <p *ngFor="let result of results; let i = index"
        [ngClass]="{'caught': result.caught, 'not-caught': !result.caught}">
        {{ i + 1 }}. {{ result.pokemon.name }} {{ result.caught ? "caught" : "not caught" }}
        ({{ items[result.itemUsed - 1].itemName }})
      </p>
    </div>

    <!-- Footer -->
    <footer>
      Poké Buds - Yuri Barcellos Galli ©
    </footer>
  </div>
</div>

<div class="content mobile-margin" role="main" *ngIf="endGame">
  <div class="card-container">
    <button class="card card-small" *ngIf="endGame" (click)="playAgain()">
      <img src="../assets/items/ball5_friend.png" alt="icon" style="height: 180%; margin-right: 10px;">
      <span><b>Play Again</b></span>
    </button>
  </div>
</div>

<router-outlet></router-outlet>
